# AnythingLLM + Ollama Vector Database Query

This project demonstrates how to query SQL data stored in a vector database using natural language, powered by AnythingLLM and Ollama running inside Docker containers. Users can ask questions in plain English, and the system returns direct answers generated by the language model.

## Project Overview
Goal: Enable natural language querying of SQL data indexed in a vector database.
Technologies:
- AnythingLLM (for LLM + vector retrieval)
- Ollama (for hosting language models in Docker)
- Python (API client to interact with AnythingLLM server)
- Vector database (storing embeddings of your SQL data)

How it works:
- SQL data rows are formatted as JSON and uploaded to the vector database.
- When a user inputs a natural language query, the system retrieves relevant data chunks from the vector DB.
- The language model generates an answer directly (without exposing raw SQL).
- The answer and relevant source chunks are returned to the user.

## Models and Databases
### Language Model(LLM)
- phi3:latest
### Embedding Model
Used to convert SQL data rows (text/JSON) into vector embeddings that the vector database indexes.
- nomic-embed-text:latest
### Vector Database
- LanceDB

## Project Structure
```bash
llm-server/
├─ db_uploader
│  ├─ utils.py
│  ├─ extract_mssql.py
│  └─ upload_to_anythingllm.py
├─ image_search/                     # Image-based vector search
│  ├─ image_embedding.py             # Load model & generate image embedding
│  ├─ qdrant.py                      # Qdrant connection and helper functions
│  ├─ utils.py                       # Preprocessing, image I/O helpers
│  └─ README.md
├─ anythingllm_query.py
├─ config.py
├─ app.py                            # Fast API endpoint
└─ run.py
```

## Setup Instructions

## APIs
- `{LLM_API_URL}/api/v1/document/upload`
- `{LLM_API_URL}/api/v1/workspace/{workspace_slug}/chat`

## References
- [AnythingLLM Docker](https://docs.anythingllm.com/installation-docker/local-docker)
- [AnythingLLM API](https://docs.anythingllm.com/features/api)
- http://localhost:3001/api/docs/